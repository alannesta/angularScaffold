angular.module("proteus.uiComponents",["ngAnimate"]),function(module){"use strict";module.directive("acqBody",function(){return{restrict:"E",scope:!1,transclude:!0,link:function(scope,iElement,iAttrs,ctrl,transclude){transclude(scope,function(clone){iElement.append(clone)})}}})}(angular.module("proteus.uiComponents")),function(module){"use strict";module.directive("acqButton",function(){var types=["primary","secondary","important"],sizes=["small","medium","large"];return{restrict:"E",scope:!1,transclude:!0,templateUrl:"button/button.html",compile:function(tElement,tAttrs){return void 0===tAttrs.type&&(tAttrs.type="secondary"),void 0===tAttrs.size&&(tAttrs.size="medium"),""===tAttrs.disabled&&(tAttrs.disabled="true"),function(scope,iElement,iAttrs,ctrl,transclude){iAttrs.$observe("type",function(value){var type=value||types[1];if(-1===types.indexOf(type))throw new Error("The expected type "+type+" is not supported. Supported types are: "+types.join("|"));iElement.children().removeClass(types.join(" ")).addClass(type)}),iAttrs.$observe("size",function(value){var size=value||sizes[1];if(-1===sizes.indexOf(size))throw new Error("The expected size "+size+" is not supported. Supported sizes are: "+sizes.join("|"));iElement.children().removeClass(sizes.join(" ")).addClass(size)}),iAttrs.$observe("disabled",function(value){iElement.children().prop("disabled",!!scope.$eval(value))}),transclude(function(clone){iElement.children().append(clone)})}}}})}(angular.module("proteus.uiComponents")),function(module){"use strict";function dialogFactory($document,$animate,$q,$rootScope,link){function close(response,save){var dialogItem=dialogStack.pop();dialogItem&&(dialogItem.deferred[save?"resolve":"reject"](response),dialogItem.closed=!0,$animate.leave(dialogItem.element).then(function(){dialogItem.wrapper.remove()}),$animate.leave(dialogItem.backdrop))}var dialogStack=[],dialog={show:function(options){options=angular.extend({},options);var deferred=$q.defer(),scope=$rootScope.$new(!0),backdrop=angular.element('<div class="dialog-backdrop fade" fit></div>'),wrapper=angular.element('<div class="dialog-wrapper" fit horizontal layout></div>'),dialogNode=angular.element('<div class="dialog fade-and-scale" self-center></div>'),dialogItem={element:dialogNode,backdrop:backdrop,wrapper:wrapper,deferred:deferred,closed:!1};return dialogStack.push(dialogItem),link({controller:options.controller,controllerAs:options.controllerAs,resolve:options.resolve,scope:scope,template:options.template,templateUrl:options.templateUrl}).then(function(element){if(!dialogItem.closed){var body=angular.element($document[0].body);dialogNode.append(element),$animate.enter(backdrop,body,angular.element(body[0].lastChild)),body.append(wrapper),$animate.enter(dialogNode,wrapper,null)}}),deferred.promise},confirm:function(response){close(response,!0)},cancel:function(response){close(response,!1)}};return dialog}module.factory("dialog",dialogFactory)}(angular.module("proteus.uiComponents")),function(module){"use strict";module.directive("acqDropdown",function($compile){var buildDefaultSelect=function(scope,iElement,iAttrs){var label=angular.element("<label></label>");label.text(iAttrs.label);var select=angular.element("<select></select>");select.attr("ng-options",iAttrs.options).attr("ng-model",iAttrs.ngModel),$compile(select)(scope),iElement.append(label).append(select)};return{restrict:"E",scope:!1,transclude:!0,link:function(scope,iElement,iAttrs,ctrl,transclude){iAttrs.options?buildDefaultSelect(scope,iElement,iAttrs):transclude(scope,function(clone){iElement.append(clone)})}}})}(angular.module("proteus.uiComponents")),function(module){"use strict";module.directive("acqFooter",function(){return{restrict:"E",scope:!1,transclude:!0,link:function(scope,iElement,iAttrs,ctrl,transclude){transclude(scope,function(clone){iElement.append(clone)})}}})}(angular.module("proteus.uiComponents")),function(module){"use strict";module.directive("acqGrid",function(){return{restrict:"E",scope:!1,transclude:!0,link:function(scope,iElement,iAttrs,ctrl,transclude){transclude(function(clone){iElement.append(clone)})}}})}(angular.module("proteus.uiComponents")),function(module){"use strict";module.directive("acqHeader",function(){return{restrict:"E",scope:!1,transclude:!0,link:function(scope,iElement,iAttrs,ctrl,transclude){transclude(scope,function(clone){iElement.append(clone)})}}})}(angular.module("proteus.uiComponents")),function(module){"use strict";module.directive("acqIconButton",function(){return{restrict:"E",transclude:!0,scope:{iconName:"@",iconSize:"@"},templateUrl:"icon-button/icon-button.html",link:function(scope,iElement,iAttrs,ctrl,transclude){transclude(function(clone){iElement.children().append(clone)})}}})}(angular.module("proteus.uiComponents")),function(module){"use strict";module.directive("acqIcon",function(){var sizes=["1x","2x","3x"];return{restrict:"E",scope:{name:"@",size:"@"},link:function(scope,iElement){var icon=angular.element("<i></i>");iElement.append(icon),scope.$watch("name",function(newName,oldName){if(!newName)throw new Error("The name is mandatory.");icon.removeClass("acq-icon-"+oldName).addClass("acq-icon-"+newName)}),scope.$watch("size",function(newSize,oldSize){if(newSize=newSize||sizes[0],-1===sizes.indexOf(newSize))throw new Error("The expected size "+newSize+" is not supported. Supported sizes are: "+sizes.join("|")+".");icon.removeClass("size-"+oldSize).addClass("size-"+newSize)})}}})}(angular.module("proteus.uiComponents")),function(module){"use strict";function AcqLayoutController(){}AcqLayoutController.prototype.setContent=function(content){this.content=content},AcqLayoutController.prototype.toggle=function(){this.content.toggle()},module.controller("AcqLayoutController",AcqLayoutController),module.directive("acqLayout",function(){return{restrict:"E",scope:!1,transclude:!0,controller:"AcqLayoutController",link:function(scope,iElement,iAttrs,ctrl,transclude){transclude(function(clone){iElement.append(clone)})}}})}(angular.module("proteus.uiComponents")),function(module){"use strict";module.directive("acqLink",function(){return{restrict:"E",scope:{reference:"@"},transclude:!0,templateUrl:"link/link.html"}})}(angular.module("proteus.uiComponents")),function(module){"use strict";module.directive("acqList",function(){return{restrict:"E",scope:!1,transclude:!0,link:function(scope,iElement,iAttrs,ctrl,transclude){transclude(function(clone){iElement.append(clone)})}}})}(angular.module("proteus.uiComponents")),function(module){"use strict";module.directive("acqPager",function(){return{restrict:"E",scope:{current:"=",totalItems:"=",itemsPerPage:"=",onChange:"&"},templateUrl:"pager/pager.html",link:function(scope,iElement){iElement.attr("layout","").attr("horizontal","").attr("center",""),scope.prev=function(){scope.current--},scope.next=function(){scope.current++},scope.$watch("current",function(newVal,oldVal){(Number(newVal)!==newVal||newVal%1!==0||0>=newVal)&&(scope.current=oldVal)}),scope.$watchCollection("[current, totalItems, itemsPerPage]",function(){var lastItem=scope.current*scope.itemsPerPage;scope.last=Math.ceil(scope.totalItems/scope.itemsPerPage),scope.current=Math.min(scope.current,scope.last),scope.firstItem=(scope.current-1)*scope.itemsPerPage+1,scope.lastItem=lastItem-Math.max(0,lastItem-scope.totalItems),scope.onChange()})}}})}(angular.module("proteus.uiComponents")),function(module){"use strict";module.directive("acqPanel",function(){return{restrict:"E",scope:!1,transclude:!0,link:function(scope,iElement,iAttrs,ctrl,transclude){transclude(function(clone){for(var header,body,footer,content=[],i=0,l=clone.length;l>i;i++){var el=clone.eq(i);switch(el.prop("tagName")){case"ACQ-HEADER":header=el;break;case"ACQ-BODY":body=el;break;case"ACQ-FOOTER":footer=el;break;default:content.push(el)}}!body&&content.length>0&&(body=angular.element("<acq-body>"),content.forEach(function(el){body.append(el)})),iElement.append(header),iElement.append(body),iElement.append(footer)})}}})}(angular.module("proteus.uiComponents")),function(module){"use strict";module.directive("popover",function(popover){return{restrict:"A",link:function(scope,element,attrs){function bindTrigger(trigger){switch(trigger){case"hover":element.on("mouseenter mouseleave",togglePopover);break;case"focus":element.on("focus",togglePopover),element.on("blur",togglePopover);break;default:element.on("click",togglePopover)}}function togglePopover(){popoverInstace?(popoverInstace.close(),popoverInstace=null):popoverInstace=popover.create({templateUrl:"popover/popover.html",position:attrs.popoverPosition||"bottom-left",triggerNode:element[0],controller:function($scope){$scope.close=function($event){$event.stopPropagation(),popoverInstace.close(),popoverInstace=null},$scope.confirm=function($event){$event.stopPropagation(),popoverInstace.confirm(),popoverInstace=null}}})}var popoverInstace=null;bindTrigger(attrs.popoverTrigger||"click")}}})}(angular.module("proteus.uiComponents")),function(module){"use strict";function popoverFactory($document,$animate,$compile,$q,$rootScope,link,position){function getIndex(arr,obj,key){for(var i=0;i<arr.length;i++)if(arr[i][key]===obj[key])return i;return-1}var popoverManager={openedPopovers:[],create:function(config){function destroy(instance){instance&&instance.element&&(options.animation&&angular.noop(),instance.element.remove());var index=getIndex(self.openedPopovers,instance,"triggerNode");self.openedPopovers.splice(index,1),instance=null}function prepareTemplate(instance,usrTemplate){popoverTemplate.append(usrTemplate),options.arrow&&angular.noop(),instance.element=popoverTemplate[0]}function preparePosition(instance){var elemPosition,popoverEl=angular.element(instance.element);return popoverEl.css({position:"absolute",top:-999,left:-999}),console.log("dimension check: height(before append to DOM): "+popoverEl.prop("offsetHeight")+", width: "+popoverEl.prop("offsetWidth")),angular.element(triggerNode).after(popoverEl),console.log("dimension check(after append to DOM): height: "+popoverEl.prop("offsetHeight")+", width: "+popoverEl.prop("offsetWidth")),elemPosition=position.positionElement(instance.triggerNode,instance.element,instance.position)}function placePopover(instance,position,animation){var popoverEl=angular.element(instance.element);animation?angular.noop():popoverEl.css({top:position.top+"px",left:position.left+"px"})}var options=angular.extend({},config),self=this,triggerNode=options.triggerNode||$document[0].body,scope=options.scope||$rootScope.$new(!0),deferred=$q.defer(),popoverTemplate=angular.element('<div class="popover"></div>'),popoverInstance={deferred:deferred,element:null,triggerNode:triggerNode,position:options.position||"bottom",close:function(){destroy(this)},confirm:function(){destroy(this)}};return link({controller:options.controller,controllerAs:options.controllerAs,resolve:options.resolve,scope:scope,template:options.template,templateUrl:options.templateUrl}).then(function(element){var position;prepareTemplate(popoverInstance,element),position=preparePosition(popoverInstance),placePopover(popoverInstance,position,options.animtaion)}),self.openedPopovers.push(popoverInstance),popoverInstance}};return popoverManager}module.factory("popover",popoverFactory)}(angular.module("proteus.uiComponents")),function(module){"use strict";module.directive("acqProgressBar",function(){return{restrict:"E",scope:{value:"@"},templateUrl:"progress-bar/progress-bar.html",link:function(scope,iElement){scope.$watch("value",function(value){var ratio=value||0;iElement.children().css("width",ratio+"%")})}}})}(angular.module("proteus.uiComponents")),function(module){"use strict";module.directive("acqSearchField",function(){return{restrict:"E",scope:{placeholder:"@",query:"=?ngModel"},templateUrl:"search-field/search-field.html",link:function(scope){scope.resetQuery=function(){scope.query=""}}}})}(angular.module("proteus.uiComponents")),function(module){"use strict";module.directive("acqSiteToolbar",function(){return{restrict:"E",scope:!1,transclude:!0,templateUrl:"site-toolbar/site-toolbar.html"}})}(angular.module("proteus.uiComponents")),function(module){"use strict";module.directive("acqToolbar",function(){return{restrict:"E",scope:!1,transclude:!0,link:function(scope,iElement,iAttrs,ctrl,transclude){transclude(scope,function(clone){iElement.attr("layout","").attr("horizontal","").attr("center","").append(clone)})}}})}(angular.module("proteus.uiComponents")),function(module){"use strict";module.directive("acqView",function(){return{restrict:"E",scope:{pageTitle:"@"},transclude:!0,templateUrl:"view/view.html"}})}(angular.module("proteus.uiComponents")),function(module){"use strict";module.directive("acqWizard",function(){return{restrict:"E",scope:!1,transclude:!0,link:function(scope,iElement,iAttrs,ctrl,transclude){transclude(function(clone){iElement.append(clone)})}}})}(angular.module("proteus.uiComponents")),function(module){"use strict";module.animation(".collapse",function(animate){return{enter:function(element,done){animate(element,"slideDown").then(done)},leave:function(element,done){animate(element,"slideUp").then(done)},addClass:function(element,className,done){"ng-hide"===className?animate(element,"slideUp").then(done):done()},beforeRemoveClass:function(element,className,done){"ng-hide"===className&&element.css("display","none"),done()},removeClass:function(element,className,done){"ng-hide"===className?animate(element[0],"slideDown").then(done):done()}}})}(angular.module("proteus.uiComponents")),function(module){"use strict";module.animation(".fade-and-scale",function(animate){return{enter:function(element,done){animate(element,{opacity:[1,0],scale:[1,.6]}).then(done)},leave:function(element,done){animate(element,{opacity:[0,1],scale:[.6,1]}).then(done)},addClass:function(element,className,done){"ng-hide"===className?animate(element,{opacity:[0,1],scale:[.6,1]}).then(done):done()},beforeRemoveClass:function(element,className,done){"ng-hide"===className&&element.css("display","none"),done()},removeClass:function(element,className,done){"ng-hide"===className?animate(element,{opacity:[1,0],scale:[1,.7]}).then(done):done()}}})}(angular.module("proteus.uiComponents")),function(module){"use strict";module.animation(".fade",function(animate){return{enter:function(element,done){animate(element,"fadeIn").then(done)},leave:function(element,done){animate(element,"fadeOut").then(done)},addClass:function(element,className,done){"ng-hide"===className&&animate(element,"fadeOut").then(done)},beforeRemoveClass:function(element,className,done){"ng-hide"===className&&element.css("display","none"),done()},removeClass:function(element,className,done){"ng-hide"===className?animate(element,"fadeIn").then(done):done()}}})}(angular.module("proteus.uiComponents")),function(module){"use strict";function animateFactory(Velocity,$q){var animate=function(element,properties){var deferred=$q.defer();return Velocity(element[0],properties,{duration:220}).then(function(){deferred.resolve()}),deferred.promise};return animate}module.factory("animate",animateFactory)}(angular.module("proteus.uiComponents")),function(module){"use strict";function linkFactory($compile,$controller,$http,$injector,$q,$rootScope,$sce,$templateCache){function link(options){return options=options||{},getLocals(options).then(function(locals){var element=locals.$template||"<span></span>",scope=options.scope&&options.scope.$new()||$rootScope.$new(),controller=$controller(options.controller||function(){},angular.extend({$scope:scope},locals));return options.controllerAs&&(scope[options.controllerAs]=controller),$compile(element)(scope)}).catch(function(error){return $q.reject(error)})}function getLocals(options){var locals=angular.extend({},options.resolve||{}),template=getTemplate(options);return angular.forEach(locals,function(value,key){locals[key]=angular.isString(value)?$injector.get(value):$injector.invoke(value)}),angular.isDefined(template)&&(locals.$template=template),$q.all(locals)}function getTemplate(options){var template,templateUrl;return angular.isDefined(template=options.template)?angular.isFunction(template)&&(template=template()):angular.isDefined(templateUrl=options.templateUrl)&&(angular.isFunction(templateUrl)&&(templateUrl=templateUrl()),templateUrl=$sce.getTrustedResourceUrl(templateUrl),template=$http.get(templateUrl,{cache:$templateCache}).then(function(response){return response.data})),template}return link}module.factory("link",linkFactory)}(angular.module("proteus.uiComponents")),function(module){"use strict";function positionFactory($document,$window){function getStyle(el,cssprop){return el.currentStyle?el.currentStyle[cssprop]:$window.getComputedStyle?$window.getComputedStyle(el)[cssprop]:el.style[cssprop]}function isStaticPositioned(element){return"static"===(getStyle(element,"position")||"static")}function parentOffsetEl(element){for(var docDomEl=$document[0],offsetParent=element.offsetParent||docDomEl;offsetParent&&offsetParent!==docDomEl&&isStaticPositioned(offsetParent);)offsetParent=offsetParent.offsetParent;return offsetParent||docDomEl}function position(element){var elBCR=offset(element),offsetParentBCR={top:0,left:0},offsetParentEl=parentOffsetEl(element);offsetParentEl!==$document[0]&&(offsetParentBCR=offset(offsetParentEl),offsetParentBCR.top+=offsetParentEl.clientTop-offsetParentEl.scrollTop,offsetParentBCR.left+=offsetParentEl.clientLeft-offsetParentEl.scrollLeft);var boundingClientRect=element.getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:elBCR.top-offsetParentBCR.top,left:elBCR.left-offsetParentBCR.left}}function offset(element){var boundingClientRect=element.getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:boundingClientRect.top+($window.pageYOffset||$document[0].documentElement.scrollTop),left:boundingClientRect.left+($window.pageXOffset||$document[0].documentElement.scrollLeft)}}function calculatePosition(element,base,pos){var elementWidth,elementHeight,elementPosition,posArr=pos.split("-"),pos1=posArr[0],pos2=posArr[1]||"center";elementWidth=angular.element(element).prop("offsetWidth"),elementHeight=angular.element(element).prop("offsetHeight");var shiftWidth={center:function(){return base.left+base.width/2-elementWidth/2},left:function(){return base.left-elementWidth},right:function(){return base.left+base.width}},shiftHeight={center:function(){return base.top+base.height/2-elementHeight/2},top:function(){return base.top-elementHeight},bottom:function(){return base.top+base.height}},align={left:function(){return base.left},right:function(){return base.left+base.width-elementWidth},top:function(){return base.top},bottom:function(){return base.top+base.height-elementHeight},center:function(){}};switch(pos1){case"right":elementPosition={top:align[pos2]()||shiftHeight[pos2](),left:shiftWidth[pos1]()};break;case"left":elementPosition={top:align[pos2]()||shiftHeight[pos2](),left:shiftWidth[pos1]()};break;case"top":elementPosition={top:shiftHeight[pos1](),left:align[pos2]()||shiftWidth[pos2]()};break;default:elementPosition={top:shiftHeight[pos1](),left:align[pos2]()||shiftWidth[pos2]()}}return elementPosition}return{positionElement:function(triggerNode,element,pos,dimension){var base=position(triggerNode),calculatedPosition=calculatePosition(element,base,pos,dimension);return calculatedPosition}}}module.factory("position",positionFactory)}(angular.module("proteus.uiComponents")),function(module){"use strict";function VelocityFactory($window){return $window.Velocity}module.factory("Velocity",VelocityFactory)}(angular.module("proteus.uiComponents")),function(module){"use strict";module.directive("acqCells",function(){return{restrict:"E",scope:!1,transclude:!0,link:function(scope,iElement,iAttrs,ctrl,transclude){transclude(function(clone){iElement.attr("layout","").attr("horizontal","").attr("center","").append(clone)})}}})}(angular.module("proteus.uiComponents")),function(module){"use strict";module.directive("acqColumns",function(){return{restrict:"E",scope:!1,transclude:!0,link:function(scope,iElement,iAttrs,ctrl,transclude){transclude(function(clone){iElement.attr("layout","").attr("horizontal","").attr("center","").append(clone)})}}})}(angular.module("proteus.uiComponents")),function(module){"use strict";module.directive("acqRowDetails",function(){return{restrict:"E",scope:!1,transclude:!0,link:function(scope,iElement,iAttrs,ctrl,transclude){transclude(function(clone){iElement.append(clone)})}}})}(angular.module("proteus.uiComponents")),function(module){"use strict";module.directive("acqRow",function(){return{restrict:"E",scope:!1,transclude:!0,link:function(scope,iElement,iAttrs,ctrl,transclude){transclude(function(clone){iElement.append(clone)})}}})}(angular.module("proteus.uiComponents")),function(module){"use strict";function AcqMainContentController($element){this.$element=$element}AcqMainContentController.prototype.toggle=function(){this.$element.toggleClass("opened")},module.controller("AcqMainContentController",AcqMainContentController),module.directive("acqMainContent",function(){return{restrict:"E",scope:!1,transclude:!0,require:["acqMainContent","^acqLayout"],controller:"AcqMainContentController",link:function(scope,iElement,iAttrs,ctrls,transclude){var contentCtrl=ctrls[0],parentCtrl=ctrls[1];parentCtrl.setContent(contentCtrl),transclude(function(clone){iElement.attr("fit","").append(clone)})}}})}(angular.module("proteus.uiComponents")),function(module){"use strict";module.directive("acqSideMenu",function(){return{restrict:"E",scope:!1,transclude:!0,link:function(scope,iElement,iAttrs,ctrl,transclude){transclude(function(clone){iElement.attr("fit","").append(clone)})}}})}(angular.module("proteus.uiComponents")),function(module){"use strict";module.directive("sideMenuToggle",function(){return{restrict:"A",scope:!1,require:"^acqLayout",link:function(scope,iElement,iAttrs,parentCtrl){iElement.on("click",function(){parentCtrl.toggle()})}}})}(angular.module("proteus.uiComponents")),function(module){"use strict";module.directive("acqItem",function(){return{restrict:"E",scope:!1,transclude:!0,link:function(scope,iElement,iAttrs,ctrl,transclude){transclude(function(clone){iElement.append(clone)})}}})}(angular.module("proteus.uiComponents")),function(module){"use strict";module.directive("acqWizardContent",function(){return{restrict:"E",scope:!1,transclude:!0,link:function(scope,iElement,iAttrs,ctrl,transclude){transclude(function(clone){iElement.append(clone)})}}})}(angular.module("proteus.uiComponents")),function(module){"use strict";module.directive("acqWizardNav",function(){return{restrict:"E",scope:!1,transclude:!0,link:function(scope,iElement,iAttrs,ctrl,transclude){transclude(function(clone){iElement.append(clone)})}}})}(angular.module("proteus.uiComponents")),function(module){"use strict";module.directive("acqWizardSteps",function(){return{restrict:"E",scope:!1,transclude:!0,link:function(scope,iElement,iAttrs,ctrl,transclude){transclude(function(clone){iElement.append(clone)})}}})}(angular.module("proteus.uiComponents")),function(module){"use strict";module.directive("acqCell",function(){return{restrict:"E",scope:!1,transclude:!0,link:function(scope,iElement,iAttrs,ctrl,transclude){transclude(function(clone){iElement.append(clone)})}}})}(angular.module("proteus.uiComponents")),function(module){"use strict";module.directive("acqColumn",function(){return{restrict:"E",scope:!1,transclude:!0,link:function(scope,iElement,iAttrs,ctrl,transclude){transclude(function(clone){iElement.append(clone)})}}})}(angular.module("proteus.uiComponents")),function(module){"use strict";module.directive("acqWizardStep",function(){return{restrict:"E",scope:!1,transclude:!0,link:function(scope,iElement,iAttrs,ctrl,transclude){transclude(function(clone){iElement.append(clone)})}}})}(angular.module("proteus.uiComponents"));
//# sourceMappingURL=proteus-ui-components.min.js.map